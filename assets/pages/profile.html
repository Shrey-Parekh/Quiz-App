<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Trivio</title>
    <link rel="stylesheet" href="/assets/css/themes.css">
    <link rel="stylesheet" href="/assets/css/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="/assets/javascript/auth.js"></script>
    <script src="/assets/javascript/script.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="logo">TRIVIO</div>
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="aboutus.html">About</a></li>
            <li><a href="themes.html">Themes</a></li>
            <li><a href="highscore.html">Leaderboard</a></li>
            <li><a href="sub.html">Subscribe</a></li>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="reivew.html">Feedback</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>
    </nav>

    <div class="profile-container">
        <div class="profile-header">
            <div class="profile-photo-container">
                <img id="profile-photo" src="/assets/images/default-profile.jpg" alt="Profile Photo">
                <div class="photo-upload-overlay">
                    <span>Click to change photo</span>
                </div>
                <label for="photo-upload" class="photo-upload-btn">
                    <i class="fas fa-camera"></i>
                </label>
                <input type="file" id="photo-upload" accept="image/*" hidden>
            </div>
            <h1>Your Profile</h1>
        </div>

        <form id="profile-form" class="profile-form">
            <div class="form-group">
                <label for="bio">Bio</label>
                <textarea id="bio" name="bio" rows="4" placeholder="Tell us about yourself..."></textarea>
                <div class="error-message" id="bio-error">Please enter a valid bio</div>
            </div>

            <div class="form-group">
                <label for="interests">Interests</label>
                <input type="text" id="interests" name="interests" placeholder="e.g., Technology, Sports, Music">
                <div class="error-message" id="interests-error">Please enter your interests</div>
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" placeholder="Your city or country">
                <div class="error-message" id="location-error">Please enter your location</div>
            </div>

            <div class="form-group">
                <label for="favorite-category">Favorite Quiz Category</label>
                <select id="favorite-category" name="favorite-category">
                    <option value="">Select a category</option>
                    <option value="general">General Knowledge</option>
                    <option value="tech">Technology</option>
                    <option value="sports">Sports</option>
                    <option value="science">Science</option>
                    <option value="history">History</option>
                    <option value="geography">Geography</option>
                    <option value="movies">Movies & TV</option>
                    <option value="music">Music</option>
                    <option value="food">Food & Drinks</option>
                    <option value="literature">Literature</option>
                </select>
                <div class="error-message" id="category-error">Please select a category</div>
            </div>

            <div class="form-group">
                <label for="achievement-goals">Achievement Goals</label>
                <textarea id="achievement-goals" name="achievement-goals" rows="3" placeholder="What do you want to achieve on Trivio?"></textarea>
                <div class="error-message" id="goals-error">Please enter your goals</div>
            </div>

            <div class="form-group">
                <label for="notification-preferences">Notification Preferences</label>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" name="notifications" value="new-quizzes">
                        <span>New Quizzes</span>
                    </label>
                    <label>
                        <input type="checkbox" name="notifications" value="achievements">
                        <span>Achievements</span>
                    </label>
                    <label>
                        <input type="checkbox" name="notifications" value="leaderboard">
                        <span>Leaderboard Updates</span>
                    </label>
                    <label>
                        <input type="checkbox" name="notifications" value="friends">
                        <span>Friend Activities</span>
                    </label>
                </div>
            </div>

            <button type="submit" class="save-profile-btn">
                Save Profile
            </button>
        </form>
    </div>

    <!-- Image Preview Modal -->
    <div class="image-preview-modal" id="image-preview-modal">
        <div class="preview-container">
            <img id="preview-image" src="" alt="Preview">
        </div>
        <div class="preview-controls">
            <button class="preview-confirm" id="confirm-image">Use This Photo</button>
            <button class="preview-cancel" id="cancel-image">Cancel</button>
        </div>
    </div>

    <!-- Image Drop Zone -->
    <div class="drop-zone" id="drop-zone">
        <div class="drop-zone-inner" id="drop-zone-inner">
            <i class="fas fa-cloud-upload-alt" style="font-size: 3em; margin-bottom: 20px; color: #8B7355;"></i>
            <h3>Drop Your Image Here</h3>
            <p>or click to select from your device</p>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="success-message">
        <i class="fas fa-check-circle"></i>
        <span>Profile updated successfully!</span>
    </div>

    <footer id="footer" class="footer">
        <div class="footer-content">
            <div class="footer-logo">TRIVIO</div>
            <div class="footer-links">
                <a href="home.html">Home</a>
                <a href="highscore.html">High Score</a>
                <a href="themes.html">Quiz</a>
                <a href="contact.html">Contact Us</a>
                <a href="coding.html">Learn More</a>
            </div>
            <div class="social-icons">
                <i class="fab fa-facebook"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-instagram"></i>
                <i class="fab fa-linkedin"></i>
            </div>
            <p>&copy; 2025 TRIVIO. All rights reserved.</p>
        </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
    // Get DOM elements
    const photoUpload = document.getElementById('photo-upload');
    const profilePhoto = document.getElementById('profile-photo');
    const photoContainer = document.querySelector('.profile-photo-container');
    const previewModal = document.getElementById('image-preview-modal');
    const previewImage = document.getElementById('preview-image');
    const confirmImage = document.getElementById('confirm-image');
    const cancelImage = document.getElementById('cancel-image');
    const dropZone = document.getElementById('drop-zone');
    const dropZoneInner = document.getElementById('drop-zone-inner');
    const successMessage = document.getElementById('success-message');
    const profileForm = document.getElementById('profile-form');

    let currentFile = null;

    // Handle file input click
    photoUpload.addEventListener('change', handleFileSelect);
    photoContainer.addEventListener('click', function () {
        photoUpload.click();
    });

    // Handle file selection and preview
    function handleFileSelect(e) {
        const file = e.target ? e.target.files[0] : e;
        if (file && file.type.match('image.*')) {
            currentFile = file;
            const reader = new FileReader();
            reader.onload = function (e) {
                previewImage.src = e.target.result;
                previewModal.classList.add('active');
            };
            reader.readAsDataURL(file);
        }
    }

    // Confirm selected photo
    confirmImage.addEventListener('click', function () {
        if (currentFile) {
            const reader = new FileReader();
            reader.onload = function (e) {
                profilePhoto.src = e.target.result;
                showSuccessMessage('Profile photo updated!');
                previewModal.classList.remove('active');
            };
            reader.readAsDataURL(currentFile);
        }
    });

    // Cancel image preview
    cancelImage.addEventListener('click', function () {
        previewModal.classList.remove('active');
        currentFile = null;
    });

    // Drag and drop functionality
    photoContainer.addEventListener('dragover', function (e) {
        e.preventDefault();
        dropZone.classList.add('active');
    });

    dropZone.addEventListener('dragover', function (e) {
        e.preventDefault();
        dropZoneInner.classList.add('highlight');
    });

    dropZone.addEventListener('dragleave', function (e) {
        e.preventDefault();
        dropZoneInner.classList.remove('highlight');
    });

    dropZone.addEventListener('drop', function (e) {
        e.preventDefault();
        dropZone.classList.remove('active');
        dropZoneInner.classList.remove('highlight');
        const file = e.dataTransfer.files[0];
        if (file) {
            handleFileSelect(file);
        }
    });

    dropZone.addEventListener('click', function () {
        photoUpload.click();
        dropZone.classList.remove('active');
    });

    document.addEventListener('dragover', function (e) {
        e.preventDefault();
        if (e.target !== photoContainer && !dropZone.contains(e.target)) {
            dropZone.classList.add('active');
        }
    });

    document.addEventListener('drop', function (e) {
        e.preventDefault();
        dropZone.classList.remove('active');
    });

    document.addEventListener('dragleave', function (e) {
        if (
            e.clientX <= 0 ||
            e.clientY <= 0 ||
            e.clientX >= window.innerWidth ||
            e.clientY >= window.innerHeight
        ) {
            dropZone.classList.remove('active');
        }
    });

    // Form submission - no real backend, just fake success
    profileForm.addEventListener('submit', function (e) {
        e.preventDefault();
        showSuccessMessage('Profile saved!');
    });

    // Show success message
    function showSuccessMessage(message) {
        const messageEl = document.getElementById('success-message');
        const messageText = messageEl.querySelector('span');
        messageText.textContent = message;
        messageEl.classList.add('show');
        setTimeout(() => {
            messageEl.classList.remove('show');
        }, 3000);
    }

    // Animations on form fields
    const formGroups = document.querySelectorAll('.form-group');
    formGroups.forEach((group, index) => {
        group.style.animationDelay = `${0.1 * (index + 1)}s`;
    });
});

    </script>
</body>
</html>